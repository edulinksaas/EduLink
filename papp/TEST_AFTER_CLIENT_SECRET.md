# 클라이언트 시크릿 입력 후 테스트 가이드

## ✅ 완료된 작업

- [x] Kakao Developers Console에서 클라이언트 시크릿 확인
- [x] Supabase에 클라이언트 시크릿 입력
- [x] Supabase 저장 완료

## 🚀 다음 단계: 앱 재시작 및 테스트

### 1단계: 개발 서버 재시작

**중요**: 코드 변경사항과 Supabase 설정 변경사항을 적용하려면 반드시 앱을 재시작해야 합니다!

```bash
cd app
# 현재 실행 중인 개발 서버 종료 (Ctrl+C)
npm start
```

또는 캐시를 완전히 삭제하고 재시작:

```bash
cd app
# 개발 서버 종료 (Ctrl+C)
npx expo start -c
```

### 2단계: 앱 완전히 재시작

**스마트폰/에뮬레이터에서:**
1. 앱을 완전히 종료 (백그라운드에서도 종료)
2. 앱을 다시 실행

**또는 개발 서버에서:**
- `r` 키를 눌러 앱 리로드
- 또는 `Shift + r` 키를 눌러 캐시 삭제 후 리로드

### 3단계: 카카오 로그인 테스트

1. **로그인 화면**에서 **"카카오로 로그인"** 버튼 클릭
2. 카카오 로그인 페이지가 열리는지 확인
3. 카카오 계정으로 로그인 시도

### 4단계: 에러 확인

**예상 결과:**
- ✅ KOE010 에러가 사라져야 합니다
- ✅ 카카오 로그인이 정상적으로 진행되어야 합니다

**여전히 발생할 수 있는 에러:**
- KOE205 에러: 이메일 동의 항목 관련 (이미 코드로 해결했지만, 여전히 발생할 수 있음)
- 다른 에러: 에러 메시지를 확인하고 알려주세요

## 🔍 확인 사항

### Supabase 설정 재확인

1. **Supabase 대시보드** > **Authentication** > **Providers** > **Kakao**
2. 다음 항목들이 올바르게 설정되었는지 확인:
   - ✅ **Enabled**: ON
   - ✅ **Client ID (REST API Key)**: 입력됨
   - ✅ **Client Secret**: 입력됨 (방금 입력한 것)
   - ✅ **Redirect URL**: `https://[PROJECT_ID].supabase.co/auth/v1/callback`
   - ✅ **Allow users without an email**: ON
3. **Save** 버튼이 클릭되어 저장되었는지 확인

### Kakao Developers Console 설정 확인

1. **Redirect URI** 설정 확인:
   - `https://[PROJECT_ID].supabase.co/auth/v1/callback`
   - 정확히 입력되어 있는지 확인
2. **동의 항목** 확인:
   - 카카오계정(이메일): 권한 없음 (이건 괜찮습니다, 코드에서 처리)
   - 프로필 닉네임: 활성화
   - 프로필 사진: 활성화

## 🐛 문제 해결

### 여전히 KOE010 에러가 발생하는 경우

1. **Supabase 저장 확인**
   - Supabase에서 **Save** 버튼을 다시 클릭해보세요
   - 페이지를 새로고침하고 다시 확인해보세요

2. **클라이언트 시크릿 정확성 확인**
   - Kakao에서 복사한 클라이언트 시크릿이 정확한지 확인
   - 앞뒤 공백이 없는지 확인
   - 전체를 정확히 복사했는지 확인

3. **앱 완전 재시작**
   - 개발 서버 완전 종료
   - 앱 완전 종료
   - 다시 시작

### 다른 에러가 발생하는 경우

에러 메시지를 정확히 알려주세요:
- 에러 코드 (예: KOE010, KOE205 등)
- 에러 메시지 전체 내용
- 에러가 발생한 시점 (로그인 버튼 클릭 시? 카카오 페이지에서?)

## 📝 체크리스트

### 즉시 확인:
- [ ] Supabase에서 Client Secret이 저장되었는지 확인
- [ ] 개발 서버 재시작
- [ ] 앱 완전히 재시작
- [ ] 카카오 로그인 테스트

### 테스트 결과:
- [ ] KOE010 에러가 사라졌는지 확인
- [ ] 카카오 로그인이 진행되는지 확인
- [ ] 다른 에러가 발생하는지 확인

## 요약

**클라이언트 시크릿 입력 완료 후:**

1. ✅ **앱 재시작** (매우 중요!)
2. ✅ **카카오 로그인 테스트**
3. ✅ **에러 확인**

**핵심**: Supabase 설정을 변경한 후에는 반드시 앱을 재시작해야 변경사항이 적용됩니다!

## 다음 단계

테스트 후 결과를 알려주세요:
- ✅ 성공: 카카오 로그인이 정상적으로 작동하는지 확인
- ❌ 실패: 어떤 에러가 발생하는지 알려주세요
