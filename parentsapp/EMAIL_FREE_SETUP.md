# 이메일 없이 카카오 로그인 사용하기

## 현재 설정 상태

✅ **Supabase 설정 (완료)**:
- Allow users without an email: ON
- 이메일 없이도 로그인 가능하도록 설정됨

## 설정 방법

### 1단계: Supabase 설정 확인

1. **Supabase 대시보드 접속**
   - https://supabase.com 접속
   - 프로젝트 선택

2. **Authentication > Providers > Kakao**
   - **Allow users without an email** 토글이 **ON**인지 확인
   - **ON**이 아니라면 **ON**으로 변경 후 **Save** 클릭

### 2단계: 코드 수정 (완료됨)

코드에서 카카오 로그인 시 이메일을 필수로 요청하지 않도록 수정했습니다.

### 3단계: 앱 재시작 및 테스트

1. **개발 서버 재시작**:
   ```bash
   cd app
   npm start
   ```

2. **앱 재시작**:
   - 앱을 완전히 종료 후 재시작

3. **카카오 로그인 테스트**:
   - 로그인 화면에서 **카카오로 로그인** 버튼 클릭
   - 카카오 로그인 페이지에서 이메일 동의 없이도 진행 가능해야 합니다

## 동작 방식

### 이메일 없이 로그인할 때:

1. **카카오 로그인**:
   - 이메일 동의 항목 없이 로그인 진행
   - 닉네임, 프로필 사진 등 기본 정보만 사용

2. **사용자 식별**:
   - 카카오 사용자 ID로 식별
   - 전화번호가 있으면 전화번호로도 식별 가능

3. **학부모 정보 저장**:
   - 이메일이 없어도 전화번호나 카카오 ID로 저장
   - 이름, 전화번호 등 사용 가능한 정보만 저장

## 확인 사항

### Supabase 설정:
- [ ] Allow users without an email: ON ✅
- [ ] Kakao 프로바이더 활성화: ON ✅
- [ ] Client ID 입력됨 ✅
- [ ] Client Secret 입력됨 ✅

### Kakao Developers Console:
- [ ] 카카오 로그인 활성화: ON ✅
- [ ] Redirect URI 설정됨 ✅
- [ ] 동의 항목: 닉네임, 프로필 사진 (이메일 불필요)

### 테스트:
- [ ] 앱 재시작
- [ ] 카카오 로그인 버튼 클릭
- [ ] 이메일 동의 없이 로그인 진행
- [ ] 로그인 성공 확인

## 문제 해결

### 여전히 KOE205 에러가 발생하는 경우:

1. **Supabase 설정 재확인**:
   - Allow users without an email이 **ON**인지 확인
   - **Save** 버튼을 클릭했는지 확인

2. **브라우저 캐시 삭제**:
   - Ctrl + Shift + Delete
   - 캐시 삭제 후 Supabase 대시보드 재접속

3. **앱 완전히 재시작**:
   - 개발 서버 종료 후 재시작
   - 앱 완전히 종료 후 재시작

4. **코드 변경사항 확인**:
   - `app/lib/supabaseAuth.js` 파일이 업데이트되었는지 확인
   - 개발 서버가 변경사항을 인식했는지 확인

## 요약

**이메일 없이 사용하는 방법:**

1. ✅ **Supabase 설정**: Allow users without an email: ON
2. ✅ **코드 수정**: 이메일을 필수로 요청하지 않도록 수정됨
3. ✅ **앱 재시작**: 변경사항 적용
4. ✅ **테스트**: 카카오 로그인 버튼 클릭

**핵심**: Supabase의 "Allow users without an email" 설정이 **ON**이면 이메일 없이도 로그인이 가능합니다!
